from helpers.gnosis_safe import convert_to_test_mode, exec_direct
from helpers.time_utils import days, hours
import os
import json
from scripts.systems.badger_system import connect_badger
import warnings
from tabulate import tabulate
from brownie import *
from helpers.registry import registry
from rich.console import Console
from ape_safe import ApeSafe

console = Console()

badger_nft_address = "0xe1e546e25A5eD890DFf8b8D005537c0d373497F8"

recipients = [
    "0xFF6D7b409870e99ab21532161f46F7DdeA4243C4",
    "0xff06A2653364C0D03dDEdC7317bA6A8A4Ce57C90",
    "0xf92FC292B24e020e970495b0a4920fF99CC908C4",
    "0xF745F479a7dA0B538eE5BBc35d719c7C481e1B7E",
    "0xf631B11ceC7a24a1300C301e3f079F5C76faaD1B",
    "0xF18DA2FAba96793f02264d1a047790002f32010f",
    "0xEF918b30C6cAa8da2449903271bA39eC4837504D",
    "0xee6F4a5a33D8D66DABf1813c1c61702A20c087D8",
    "0xeD3d7456997d9Af7d284230B5017B35d140dA798",
    "0xea4e84f81BeAfA8C0004f15d26fD8835f54E2384",
    "0xea1feB9A9a006a7fC253C6cA87349Be0da072F25",
    "0xE9B05bC1FA8684EE3e01460aac2e64C678b9dA5d",
    "0xe957B0829C6Ae6ac461d7365b7927E1Ff604114b",
    "0xe78b0AA223243DDC88CFebC2cEa7D58090bD9F3c",
    "0xe746f87c7f3C55b48fC8570c5126DB680EEAB078",
    "0xE72Bec36E6dB5A489c4379666BBAb13e821f558a",
    "0xE558619863102240058d9784a0AdF7c886Fb92fC",
    "0xE4d7360aF7AcD268E02d77Cc2FaEAcD1A34D4F87",
    "0xe18246dF4B8fcBeF415709093Af6DF58D1a30fc0",
    "0xe1690f5153aD0BBc683964aA81645C49b3cF6567",
    "0xE1405cBBb31748d5cEFcF36dB34737A1dF8c2d9D",
    "0xe103ABFa0F867E53ceF1AD2Cb0dCbC193b385A93",
    "0xe0FEe61dD3f51eA3A56637a35A3bde309A6A4034",
    "0xDC5Bb4F6126A5eD7D99AF7E56387db717c1042BD",
    "0xD7769A7f3808282838b48a86a4C13353E35B15b3",
    "0xd59e99927018b995ee9Ad6b9003677f1e7393F8A",
    "0xd491447348c474aF15c40839D3e0056A80fEC352",
    "0xD490Cadd3D078255b309Ad32fE307d51E3A139e2",
    "0xd4444fA606568866272BAd77F8A6781b5DA59223",
    "0xd0D628acf9E985c94a4542CaE88E0Af7B2378c81",
    "0xd0C5A91800f504E5517dcD1173F271635d2e8000",
    "0xcf88FA6eE6D111b04bE9b06ef6fAD6bD6691B88c",
    "0xcE968c0fC101C4FB8e08EB5dB73E7E169A2A3562",
    "0xce7EAB9f7e9b88382a99A3B9c620Ac6AB7d63328",
    "0xCCa11A8EdB05D64a654092e9551F9122D70EA80e",
    "0xCbD6b0DeE49EeA88a3343Ff4E5a2423586B4C1D6",
    "0xCB576510A5eCb0e8BA45228dcE6dcf08d2f76aCF",
    "0xc990bD138fF23075d2e10F0a092959af2a3E91e0",
    "0xc446277b1d68D1bE119f0c84a0C554E7fdc508e3",
    "0xc38899d01dc59a92e38cbe5feec9fadd0eb063b9",
    "0xc207Ceb0709E1D2B6Ff32E17989d4a4D87C91F37",
    "0xC0F9e8De7cE5ad40979de08b6b746BA47Ca608cC",
    "0xC07A34CF74E56D29E5AD343BFB58779608e01d74",
    "0xBD1f7d88C76A86C60d41bDDD4819fAe404e7151E",
    "0xbcC34bE4ccE3c236CcC2e4B9940C874C13D05ed3",
    "0xbbfb6566ad064c233af6314aeb1eee4c26a5f921",
    "0xBae3eA84490d92b8B9D15CB8df1ab9CAa6A1ce04",
    "0xbA9784F77c2400bb3352fc231b6320d710725ae6",
    "0xBA61aa52F016cb19bF384c5fa0974cDdfBa8dD9A",
    "0xB9CcEA572a82D096F0100f46729AEA77Bd63c454",
    "0xB98BB93a2dC967546AbdA3a0226813B25D9A85C7",
    "0xb7626141EF37F183A7A61Dce76304c8b074c0988",
    "0xB6da110659ef762a381cf2D6F601Eb19b5f5d51e",
    "0xb589EA0c5C514B1D39faF0534F0baa11A06D357A",
    "0xB11eacc17bd735854D9d89BEE9EFE1D6b7e0B9Bf",
    "0xB08D2FaB190Fc4f77c61d20D5d64e39A80ef0140",
    "0xaF297deC752c909092A117A932A8cA4AaaFF9795",
    "0xAB721ca3598Ac9DAe7280246D6d3f1B65C7a0A51",
    "0xaa13905714dc09E1c51926869dDF2F3F2f1f3133",
    "0xa9ef8855a7901B2886110b69e6DDb438E490167f",
    "0xA9673927D1C8B042467593010EE30fd148A56Ad3",
    "0xa8B730190c55ff1359844D84bAd75e23458Ab779",
    "0xA734CE642E2a20faC708B0D951Bf61464Aa72251",
    "0xA5975974cAc3fEfd831E42BDd2fe84cb5eE3B3De",
    "0xa4Fd5F2d9A416AC45EfFd3B953ADad5dE9BDfc90",
    "0xa3CCA6B2C542b889d29E9E9629C9AB59bDaC87a4",
    "0xA35B52835dc644444881Dd51563d13ad987C148C",
    "0xa31c2232842e631cCb2d2E4110B356Bab21E6020",
    "0x9FeCf056375A973308bB3D6fb6b1c230CfD21456",
    "0x9c41c6e50329082c239e64be38e1359c1a07f989",
    "0x9BB0547E6EeCeA43987b819EdFd89ECF453FE5c1",
    "0x9B43B558D65871e4af214dD26B17702b121dFEB2",
    "0x9AEF7C447F6BC8D010B22afF52d5b67785ED942C",
    "0x996290C17C874d989D6E3DB7dC0b2ef0A9FB876D",
    "0x98D5Dbb46b3E35289347884b312bD91367243af1",
    "0x9222f3fAD317Af2Fa4Feb4176BF3cfCE798080a6",
    "0x8b836fcCfdd21ad00cDDd924501fbdb00466D1fE",
    "0x8B5Ad97e542bE6a430a9d38003Cda8F6AAD615D1",
    "0x8B2dAF0A57ccB9E0604c661C44Af7503c851c55f",
    "0x8B13C6c3cAEb4F7C467b8Da8F871c2D62cBdFC06",
    "0x887b86B6B6957F7bbeA88B8CEfD392f39236A88C",
    "0x87885AaEEdED51C7e3858a782644F5d89759f245",
    "0x87616fA850c87a78f307878f32D808dad8f4d401",
    "0x870eF2262E4A5E94f6154B9b215C60637C1DE908",
    "0x86d827d018185a56B7BfC2Dd3A5b624EA7525E10",
    "0x8369B9defC618e5C7d9649Ae523BbE92eea0e39a",
    "0x81aFcF6Dd79897cBa488471eCEc2f41BF3f7CA9B",
    "0x8107b00171a02f83D7a17f62941841C29c3ae60F",
    "0x8064EebD2D1CcD4290924665eFc17c8F2da5bfC4",
    "0x8046BC2aF3556c8657995d5C268195286925C67C",
    "0x7fbb50e2a22691fa4e389de21e87ae5c42ea102a",
    "0x7F825692DfaE7107D16Bf4E2071Fe06B1bC72297",
    "0x7e48437379e6e7BA4E4C73C8A0b5bB1683fBf001",
    "0x7cbf821546134CB903B364030d4E81Be0eC3180C",
    "0x7B597cEcd8C1f271900eA9d3E4B6AF1F2EDbfDE1",
    "0x7a355c8Dc16005439E7A59aD9D0086640cc5ec48",
    "0x79ff87356787E9eF76eBC15E47Cab074c2326a89",
    "0x79d4D0df5733222047Fc73e6097a144F51350009",
    "0x798F73c7Df3932F5c429e618C03828627E51eD63",
    "0x7932B496C310C75a02701A9a6860D9F97bC8E150",
    "0x788c4f3aeb3679334EA5A332d7b9C012215Acb6E",
    "0x785b70b908E1458bDAe818C03D7B8e6688B025E6",
    "0x75a35f615cb1bc590e83fbbbc1fe10aa7b58fdc1",
    "0x737b933A2d2D3b71621546Db1823849Be94b70e4",
    "0x72b40Caa258c237c6F5947E291650808B913e9fC",
    "0x725Fc8fE91DcF9343DD80342A93E45F2923c7334",
    "0x70981969Fb2eE716f8297B0736a80a908EF842a8",
    "0x6fb737D1Ebb73cda6CFA36Fd16D9273065D1b084",
    "0x6Fa4274Ad5dBcd3A60297B844a91D873634915f2",
    "0x6ea5333c850da3f35989864C1aCcB2bA0fD383C9",
    "0x6d0BBe84eBa47434a0004fc65797B87eF1C913b7",
    "0x6c7Ce9f8aFA19976f8BFa233EEed5b0a72d4E16c",
    "0x6c5F4E7Dc8b8036012254690DB7D6eef17584af8",
    "0x6C0aff3a716292F37c79bc726964941f1D8eE819",
    "0x6A4c4695428d1BB3FAC49614dFCF390BC78FacFE",
    "0x69CD1336e68958F41F8773b05f50aba39eD51b88",
    "0x65F570384d6cC157A15eac9Bfd9DA88364D59b7F",
    "0x64BAde3EA5FFc64CFB776f55cF82086b9429a5ee",
    "0x63A556c75443b176b5A4078e929e38bEb37a1ff2",
    "0x62c04cc455520708958C9ce3FAFfF51745e42189",
    "0x5F82C97e9b1755237692a946aE814998Bc0e2124",
    "0x5962CB00aba5c7eb814F99f0Ffa21Da121B3c553",
    "0x58024B6C1005dE40eAC2D4c06bC947ebf2a302Af",
    "0x577BE3eD9A71E1c355f519BBDF5f09Ba2018b1Cc",
    "0x564B31Fe75510a1ADB311AeCE4FAa63346Ed142C",
    "0x5595F9E14a9A3B957d08E904939AA351e265C157",
    "0x55956aAAd86B318992e7f6dbd8E41923f6829606",
    "0x53fE88CEB39F23db1Fcd4d6bEb55965F6ac1764f",
    "0x51397020B9488c5b781B4936c86f8b6bcf42c239",
    "0x50F27CdB650879A41fb07038bF2B818845c20e17",
    "0x50621CC725151a85f2E4f0F7c0AFCB86c0a6849f",
    "0x4deA1185da6dC1dafA103601E88Ecfc5D6F6Cf67",
    "0x4dA94e682326BD14997D1E1c62350654D8e44c5d",
    "0x4C37700d949db46Aa11A9F1627070F9Af31F8011",
    "0x4abc33cf81e0d21f42168d044f7002edd6b80b09",
    "0x4A8cfBa94C6A8Ba453dC9b2134226b3d19bd8D09",
    "0x4a4016d1cb5b6E3CFC2746E418F53A296357f564",
    "0x4893CE4D89F4D3626E9ce9DBFD71A2d315A774b7",
    "0x484F247670764Fd55a17De3aa499CBEB92F8D3EA",
    "0x4802DE6E932F46Be3d2B0D5E3CA6448cAfc4E538",
    "0x465b357Bbac5F6f3BC78669Db6980f9Eaa21D0C2",
    "0x4500438AFeCbd49dF90fC729095c39096002F05E",
    "0x43f44Ad26a18777F500Fb7496D1aF795cc1d3543",
    "0x41de0fF7e391b304ED0033819E91046853e14656",
    "0x4106A756c86f2CE6dc667Cc9f4d68BD1b0472F3C",
    "0x3c5de42f02DebBaA235f7a28E4B992362FfeE0B6",
    "0x3B47f734955De8a95636cdeb4d1dfef4B9b88cFf",
    "0x3a2ae0dd0bC9E14e2399d209b98fb2705D3D0160",
    "0x38e481367E0c50f4166AD2A1C9fde0E3c662CFBa",
    "0x385BAe68690c1b86e2f1Ad75253d080C14fA6e16",
    "0x383a5E260411d7e91E4dde7de0622D52C7C7f9c3",
    "0x380efc3B8Dd88f00B02045a9Cc6cC1fB2d086Cb6",
    "0x36f76208031FcE5E9C35208a5d2B397cafD2D448",
    "0x35fFC49E7FEFC188dFf81dB3c717dB098294BC23",
    "0x2fBa909aeD4345ac0C67c75C51d955f822b14629",
    "0x2f059371297852181bB3565f0D07378359F76690",
    "0x2eC7947F3ac9AAaa44b53640506CDc9d848D9489",
    "0x2dD2fb4e467b4ed8D9f848E83De28D71496117cD",
    "0x2d617f438116d107e07c49d61d4d7217bb924c2f",
    "0x2c1E48a5c7Ea47A05FBBED660797e90828658b41",
    "0x2b6336412636616e9158252999432e1D6938F89F",
    "0x29C3Bf1254e499Bb29Fa7560d3E9522a46eDF5B1",
    "0x297289405fAF325d416658E93D93d0ade229528C",
    "0x28eAd95628610B4eE91408cFE1C225c71AB6e7A8",
    "0x27D29CCfd6926d1da2187D3975f027827d61278b",
    "0x26fCbD3AFEbbE28D0A8684F790C48368D21665b5",
    "0x20e96532D2Ed197e712e1173Ffb53c23F522742B",
    "0x205b993Bb19930C80FB10ddF4f4c423e49c4cAAC",
    "0x1dF428833f2C9FB1eF098754e5D710432450d706",
    "0x1d5E65a087eBc3d03a294412E46CE5D6882969f4",
    "0x1D12d09793DAF5eB834C8d29Eb6A039C32b73813",
    "0x1C31E146Ca6525Dcb100F7FAF280cbdAc6e19ED2",
    "0x1A35832C6Db87868092Bacd02b6e39305bc0EDC9",
    "0x18D1EB6F4a74aB1d4704ec1688d87047efDb83D5",
    "0x18b8b2d255d7b2331a2bb3b040d701cd113c5ca3",
    "0x18b5BE29483b436b991A974098DA1832332B21D7",
    "0x18b3eeDadC9A4a6d35905D4A416DfFF239F067d5",
    "0x149B856031eDeD172F10bc715B1c0Fb0b32Ff65c",
    "0x14721bb86aF013FbF00e8e8301a538BECa2d9bC4",
    "0x0d4ddea3849c54e16c85cb4354943dc876e05552",
    "0x0D2C626E4A23D6754b6a7e0e27f4F97124abF47c",
    "0x0D07bF3276dD56Dc0d6A0A5A900563209Cf77456",
    "0x09641015fb8b08388a7367b946e634d37dddffaa",
    "0x07c93E529B51116FD27DC68c4E869c67E39624A0",
    "0x07a1f6fc89223c5ebD4e4ddaE89Ac97629856A0f",
    "0x05cf954CF50db4208c33602e68eAD1353D93Aaa6",
    "0x05CCF46673Ab0BE3Da43e847CF2438B6476fA1d0",
    "0x00C67d9D6D3D13b42a87424E145826c467CcCd84",
    "0x615a838ACcede19E85703B105CB7d021550BD824",
    "0x86Ed49E37355D5d0C7C2BABDdbDc9099A1c8cf94",
    "0xBB2d41AcfEA24A3A2aD4A6F95C3AcE1cC98c6ed6",
    "0x4d1Dcf15AcBC0b69aED7b0d87BDA5Cbc66C48184",
    "0xEc4FcD1aCA723f8456999c5f5d7479Dbe9528c11",
]

second_set = [
    "0x42558c9b380962b6c152ec31dcf921b153c81d1a",
    "0x70134D406cB230a5e8Aa7c2Dfa929097C6e237d3",
    "0x06e0Fe46a6590d32377EB0D9A8AD6f9D9adFd74C",
    "0x20943A7fBDcB4B84Ea553C13D765cD4AdAee709b",
    "0x6E3185aD3A3cc9259C0A789a6762e551829f0843",
]

third_set = ["0xA9275b17e17bfc9e11423ee19b20Ac47aD99b41B"]

nft_id = 1


def main():
    badger = connect_badger()

    safe = ApeSafe(badger.opsMultisig.address)

    nft = safe.contract_from_abi(
        badger_nft_address, "IBadgerERC1155", interface.IBadgerERC1155.abi
    )
    assert nft.totalSupply(nft_id) == 210

    print(len(third_set))

    for recipient in third_set:
        nft.safeTransferFrom(badger.opsMultisig.address, recipient, nft_id, 1, "0x")
        console.print(recipient, nft.balanceOf(recipient, nft_id))
        assert nft.balanceOf(recipient, nft_id) == 1

    print("Remaining After Transfer", nft.balanceOf(badger.opsMultisig, nft_id))

    safe_tx = safe.multisend_from_receipts()
    safe.preview(safe_tx)
    data = safe.print_transaction(safe_tx)

    safe.post_transaction(safe_tx)
